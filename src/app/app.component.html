<div class="container">
  <h1>{{ title }}</h1>

  <ng-container *ngIf="!isAuthenticated; else userContent">
    <h2>Bem-vindo!</h2>
    <p>Use sua conta Google para começar.</p>
    <button (click)="signIn()">
      Entrar com Google
    </button>
  </ng-container>

  <ng-template #userContent>
    <h2>Complete seu Cadastro</h2>

    <form (ngSubmit)="registerUser()">

      <div class="form-group">
        <label for="name">Nome:</label>
        <input
          id="name"
          type="text"
          [(ngModel)]="userData.name"
          name="name"
          required
          placeholder="Seu nome completo"
        />
      </div>

      <div class="form-group checkbox-group">
        <input
          id="wantsBalance"
          type="checkbox"
          [(ngModel)]="userData.wantsBalance"
          name="wantsBalance"
        />
        <label for="wantsBalance">Deseja preencher seus dados de saldo agora?</label>
      </div>

      <div *ngIf="userData.wantsBalance" class="balance-section">
        <h3>Dados Iniciais de Saldo</h3>

        <div class="form-group">
          <label for="valorMensal">Valor Mensal Previsto (Ex: Salário):</label>
          <input
            id="valorMensal"
            type="number"
            [(ngModel)]="userData.valorMensal"
            name="valorMensal"
            required
            placeholder="0.00"
          />
        </div>

        <div class="form-group">
          <label for="valorAtual">Saldo Atual (Opcional):</label>
          <input
            id="valorAtual"
            type="number"
            [(ngModel)]="userData.valorAtual"
            name="valorAtual"
            placeholder="0.00"
          />
        </div>
      </div>

      <button type="submit">
        Salvar Cadastro
      </button>
    </form>

    <hr>
    <button (click)="signOut()">
      Sair
    </button>
  </ng-template>

</div>

<style>
  .container { max-width: 400px; margin: 50px auto; padding: 20px; border: 1px solid #ccc; border-radius: 8px; }
  .form-group { margin-bottom: 15px; }
  label { display: block; margin-bottom: 5px; font-weight: bold; }
  input[type="text"], input[type="number"] { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
  button { padding: 10px 15px; background-color: #4285F4; color: white; border: none; border-radius: 4px; cursor: pointer; }
  button:hover { background-color: #357ae8; }
  .checkbox-group { display: flex; align-items: center; }
  .checkbox-group input { width: auto; margin-right: 10px; }
  .balance-section { border: 1px dashed #ddd; padding: 15px; margin-top: 15px; }
</style>
